function loadFileTree(n,t){t||(t=!1);var i={path:n};currentDirectory=n;clearPassword();$("#gd-modal-spinner").show();$.ajax({type:"POST",url:getApplicationPath("loadFileTree"),data:JSON.stringify(i),contentType:"application/json",success:function(n){if(n.message!=undefined){printMessage(n.message);return}$(".gd-modal-body").html("");toggleModalDialog(!0,"Open Document",getHtmlFileBrowser(t));initDragNDrop(uploadDocument);$("#gd-modal-spinner").hide();$.each(n,function(n,i){var r=i.name,c=i.guid,u=i.size,f=u+" Bytes";u/1048576>1?f=Math.round(u/1048576*100)/100+" MB":u/1024>1&&(f=Math.round(u/1024*100)/100+" KB");var e=getDocumentFormat(r,i.isDirectory)==undefined?"fa-folder":getDocumentFormat(r,i.isDirectory),l=e.format==""?"gd-folder-name":"",o="",s="",h="single";t&&(o=i.isDirectory?'<div class="gd-file-checkbox empty"><\/div>':'<div class="gd-file-checkbox"><input type="checkbox" id="'+r+'" name="'+r+'" class="gd-checkbox"><\/div>',s='<div><i class="fas fa-plus"><\/i><\/div>',h="");$(".gd-modal-table-body").append('<div class="gd-file-table-item">'+o+'<div class="gd-filetree-name '+h+'" data-guid="'+c+'"><i class="fa '+e.icon+'"><\/i><div class="gd-file-name '+l+'">'+r+'<div class="gd-file-format">'+e.format+'<\/div><\/div><\/div ><div class="gd-file-size">'+f+"<\/div>"+s+"<\/div>")})},error:function(n){var t=eval("("+n.responseText+")");console.log(t.Message);$("#gd-modal-spinner").hide();printMessage(t.message)}})}function fadeAll(n){n?($("#gd-container-fade").show(),$("#page-loading").show(),$("#htmlloader").show()):($("#gd-container-fade").hide(),$("#page-loading").fadeOut(600),$("#htmlloader").hide())}function showPreloader(n){window.setTimeout(()=>{$("#preloader").removeClass("hidden")},n?n:0)}function hidePreloader(n){window.setTimeout(()=>{$("#preloader").addClass("hidden")},n?n:0)}function toggleThumbnails(){$("#gd-thumbnails").toggleClass("active")}function clickHeader(n,t){const i=new Promise(t=>{n>1?appendHtmlContent(n-1,documentGuid,()=>{t()}):t()}),r=new Promise(i=>{showPreloader(),appendHtmlContent(n,documentGuid,()=>{scrollToPage(n,!1,i=>{if(t){var r="#gd-page-"+n+" span:contains('"+t+"')",u=$(r);u.length>0&&$("#gd-pages").scrollTo(r,i)}}),hidePreloader(),i()})}),u=new Promise(t=>{n<totalPageNumber?appendHtmlContent(n+1,documentGuid,()=>{t()}):t()});Promise.all([i,r,u])}function loadDocument(n){documentData={};loadedPagesCount=0;fadeAll(!0);var t={fileName:documentGuid,folderName:folderName,password:password};$.ajax({type:"POST",url:getApplicationPath("documentInfo"),data:JSON.stringify(t),global:!1,contentType:"application/json",success:function(n){var r,t,i;if(n.message!=undefined){if(fadeAll(!1),n.message=="Password Required")openPasswordModal();else{if(n.message=="Incorrect password"){openPasswordModal(n.message);return}printMessage(n.message)}return}if(n.navigationPane&&n.navigationPane.length>0){const u={1:"header-1",2:"header-2",3:"header-3",62:"title",74:"subtitle"};for(navigationPane=n.navigationPane,r=$('<ul class="navigation" />'),t=0;t<navigationPane.length;t++)navigationPane[t].name&&(i=$("<li />"),i.addClass(u[navigationPane[t].style]),i.append($('<a href="javascript:void(0)" onclick="clickHeader('+navigationPane[t].pageNumber+", '"+navigationPane[t].name.trim()+"')\">"+navigationPane[t].name+"<\/a>")),r.append(i));$("#gd-thumbnails-headers").append(r);$("#gd-thumbnails").toggleClass("active")}else $("#gd-thumbnails ul.tabs").addClass("hidden");documentData=n;totalPageNumber=documentData.pages.length;totalPageNumber===1&&($(".gd-nav-btn-pages").addClass("disabled"),$("#gd-page-num").addClass("disabled"));setNavigationPageValues("1",totalPageNumber)},error:function(n,t,i){fadeAll(!1);var r=new Error(n.responseText?n.responseText:i?i:"Unknown error");console.log(r.message);printMessage(r.message);documentGuid=""}}).done(function(t){t.message==undefined&&n&&n(t)})}function loadThumbnails(){var n={fileName:documentGuid,folderName:folderName,password:password};$.ajax({type:"POST",url:getApplicationPath("thumbnails"),data:JSON.stringify(n),global:!1,contentType:"application/json",success:function(n){if(n.message!=undefined){console.log(n.message);return}$.each(n,function(n,t){var i=t.number;renderThumbnails(i,t)})},error:function(n,t,i){var r=eval("("+n.responseText+")");console.log(r?r.Message:i)}})}function loadPrint(){var n={fileName:documentGuid,folderName:folderName,password:password};preloadPageCount!=0&&document.location.pathname.indexOf("view")>=0?getDocumentFormat(documentGuid).format=="Portable Document Format"?printPdf():$.ajax({type:"POST",url:getApplicationPath("print"),data:JSON.stringify(n),global:!1,contentType:"application/json",success:function(n){if(n.message!=undefined){console.log(n.message);return}var t="";$.each(n,function(n,i){var r="";r=htmlMode?i.data:'<image style="width: inherit !important" class="gd-page-image" src="data:image/png;base64,'+i.data+'" alt><\/image>';t=t+'<div id="gd-page-'+i.number+'" class="gd-page" style="min-width: '+i.width+"px; min-height: "+i.height+'px;"><div class="gd-wrapper">'+r+"<\/div><\/div>"});renderPrint(t)},error:function(n,t,i){var r=eval("("+n.responseText+")");console.log(r?r.Message:i)}}):renderPrint()}function renderPrint(n){var i="<style>.gd-page {height:100% !important; page-break-after:always; page-break-inside:avoid;} .gd-page:last-child {page-break-after:avoid; overflow:hidden;}",t,r;i=i+"<\/style>";t=window.open("",documentGuid,"width=750,height=650,top=50,left=50,toolbars=yes,scrollbars=yes,status=yes,resizable=yes");t.document.head.innerHTML=i;n||n==""||(r=$("#gd-panzoom"),r.find(".gd-page").each(function(n,t){$(t).css("transform")!="none"&&(i=i+"#"+$(t).attr("id")+"{transform: rotate(0deg) !important;}")}),n=r[0].innerHTML);t.document.body.innerHTML=n;t.document.title=documentGuid;window.setTimeout(function(){t.focus();t.print();window.setTimeout(function(){t.close()},0)},3e3)}function printPdf(){if(documentGuid!=""&&typeof documentGuid!="undefined"){var t={guid:documentGuid,password:password},n=new XMLHttpRequest;n.open("POST",getApplicationPath("printPdf"),!0);n.setRequestHeader("Content-Type","application/json");n.responseType="blob";n.onload=function(){if(n.status===200){var i=new Blob([n.response],{type:"application/pdf"}),r=URL.createObjectURL(i),t=window.open(r,"PrintWindow","width=750,height=650,top=50,left=50,toolbars=yes,scrollbars=yes,status=yes,resizable=yes");t.focus();$(t.document).ready(function(){t.document.close();t.focus();t.onafterprint=function(){$(t).off("mousemove",t.onafterprint);t.close()};t.print();setTimeout(function(){$(t).on("mousemove",t.onafterprint)},3e3)})}};n.send(JSON.stringify(t))}}function urlExists(n,t){$.ajax({type:"HEAD",url:n,success:function(){t(!0)},error:function(){t(!1)}})}function generatePagesTemplate(n){$("#gd-container-fade-text").hide();$.each(n.pages,function(n,t){var i=t.number,r=t.width,u=t.height,f=t.data,e="",o="",s;getDocumentFormat(documentGuid).format=="Microsoft Excel"&&(r=800,u=450,e="overflow: auto",o="overflow: hidden");$("#gd-panzoom").append('<div id="gd-page-'+i+'" class="gd-page" style="min-width: '+r+"px; min-height: "+u+"px;"+e+'"><\/div>');s=$("#gd-page-"+i);f==null||f!=null&&preloadPageCount>0?i<=preloadPageCount&&appendHtmlContent(i,documentGuid):renderPage(s,t,documentGuid);thumbnails&&($("#gd-thumbnails-panzoom").append('<div id="gd-thumbnails-page-'+i+'" class="gd-page" style="'+o+'"><\/div>'),preloadPageCount==0&&renderThumbnails(i,t))});thumbnails&&preloadPageCount!=0&&loadThumbnails()}function appendHtmlContent(n,t,i){var r=$("#gd-page-"+n),u;r.hasClass("loaded")?i!==undefined&&i():(downloadingPages.push(n),r.addClass("loaded"),u={fileName:documentGuid,folderName:folderName,pageNumber:n,password:password},$.ajax({type:"POST",url:getApplicationPath("page"),data:JSON.stringify(u),global:!1,contentType:"application/json",success:function(n){if(n.error!=undefined){printMessage(n.error);return}renderPage(r,n,t)},error:function(n){fadeAll(!1);var t=eval("("+n.responseText+")");printMessage(t?t.message:"Error occurred while loading")}}).done(function(){i!==undefined&&i();downloadingPages.pop()}))}function renderThumbnails(n,t){var f=$("#gd-page-"+n),r=t.width,u=t.height,i=f[0].style.zoom;isPageLoaded($("#gd-page-1")).then(function(){var f=$("#gd-thumbnails-page-"+n);htmlModeThumbnails?(f.append('<div class="gd-wrapper">'+t.data+"<\/div>"),getDocumentFormat(documentGuid).format=="Microsoft PowerPoint"&&(i=.7),r=$("#gd-page-1").innerWidth(),u=$("#gd-page-1").innerHeight(),getDocumentFormat(documentGuid).format=="Microsoft Excel"&&(r=800,u=450,i=1),f.css("width",r),f.css("height",u),f.css("zoom",i)):((getDocumentFormat(documentGuid).icon.search("image")>0||getDocumentFormat(documentGuid).icon.search("photo")>0)&&(i=r>$("#gd-thumbnails").width()*2?.5:1.2),getDocumentFormat(documentGuid).format=="Microsoft Excel"&&(r=800,u=450,i=1),getDocumentFormat(documentGuid).format=="Microsoft PowerPoint"&&r>$("#gd-thumbnails").width()*2&&(i=.7),f.css("width",r),f.css("height",u),f.css("zoom",i),f.append('<div class="gd-wrapper"><image style="width: inherit !important" class="gd-page-image" src="data:image/png;base64,'+t.data+'" alt><\/image><\/div>'));t.angle!=0&&(f.css("animation","none"),f.css("transition-property","none"),f.css("transform","rotate("+t.angle+"deg)"),t.angle==90||t.angle==270?htmlModeThumbnails?f.width()>f.height()?f.addClass("gd-thumbnails-landscape-rotated"):f.addClass("gd-thumbnails-landscape"):(f.width()>f.height()?f.addClass("gd-thumbnails-landscape-image-rotated"):f.addClass("gd-thumbnails-landscape-image"),f.find("img").removeClass("gd-page-image")):(f.removeClass("gd-thumbnails-landscape"),f.removeClass("gd-thumbnails-landscape-image")))})}function renderPage(n,t,i){var r=t.width,u=t.height,f=1,e,s,o;getDocumentFormat(documentGuid).format=="Microsoft Excel"&&(r=800,u=450);htmlMode?(n.append('<div class="gd-wrapper">'+t.data+"<\/div>"),preloadPageCount==0?(e=setDocumentPageSize(n,r,u),r=e.width,u=e.height):(e=setDocumentPageSize(n,r,u),r=e.width,u=e.height),(r>u||r>=$(window).width())&&(f=.79),n.css("width",r),n.css("height",u),getDocumentFormat(documentGuid).format=="Microsoft Excel"&&(f=1),n.css("zoom",f)):(r>u&&(f=.79),getDocumentFormat(documentGuid).icon.search("image")>0||getDocumentFormat(documentGuid).icon.search("photo")>0?r>$(window).width()&&(f=.79):f=1.2,n.css("width",r),n.css("height",u),getDocumentFormat(documentGuid).format=="Microsoft Excel"&&(f=1),n.css("zoom",f),n.append('<div class="gd-wrapper"><image style="width: inherit !important" class="gd-page-image" src="data:image/png;base64,'+t.data+'" alt><\/image><\/div>'));i.substr(i.lastIndexOf(".")+1)=="one"&&(htmlMode?$(".gd-wrapper").css("width","initial"):$(".gd-wrapper").css("width","inherit"));t.angle!=0&&(n.css("animation","none"),n.css("transition-property","none"),n.css("transform","rotate("+t.angle+"deg)"),t.angle==90||t.angle==270?htmlMode?n.width()>n.height()?n.addClass("gd-landscape-rotated"):n.addClass("gd-landscape"):n.width()>n.height()?n.addClass("gd-landscape-image-rotated"):n.addClass("gd-landscape-image"):(n.removeClass("gd-landscape"),n.removeClass("gd-landscape-image")));s=$("#gd-page-num").text().split("/");o=parseInt(s[1]);(loadedPagesCount==o||preloadPageCount!==0&&loadedPagesCount===0)&&($("#gd-btn-zoom-value > li").bind("click",function(){setZoomLevel.apply(this)}),$("#gd-btn-zoom-value").removeClass("disabled"),$("#gd-btn-zoom-in").bind("click",zoomIn),$("#gd-btn-zoom-out").bind("click",zoomOut),$("#gd-btn-zoom-in").removeClass("disabled"),$("#gd-btn-zoom-out").removeClass("disabled"),(printAllowed||typeof printAllowed=="undefined")&&($("#gd-btn-print").bind("click",printDocument),$("#gd-btn-print").removeClass("disabled")),$("#gd-btn-download").removeClass("disabled"));(preloadPageCount===0&&loadedPagesCount===0||loadedPagesCount+1===Math.min(preloadPageCount,o))&&fadeAll(!1);loadedPagesCount=loadedPagesCount+1}function setDocumentPageSize(n,t,i){var r={width:0,height:0};return n.innerWidth()>=t-1&&n.innerHeight()>=i-1&&!/Edge/.test(navigator.userAgent)?(r.width=n.innerWidth(),r.height=n.innerHeight()):n.innerWidth()>=t-1&&n.innerHeight()>=i-1&&/Edge/.test(navigator.userAgent)&&(r.width=n.innerWidth()/10,r.height=n.innerHeight(),getDocumentFormat(documentGuid).format.search("Word")!=-1&&(r.width=n.innerWidth())),getDocumentFormat(documentGuid).format=="Microsoft Excel"&&(r.width=800,r.height=450),r}function getDocumentFormat(n,t){return t?map.folder:typeof map[n.split(".").pop().toLowerCase()]=="undefined"?n.split(".").length>1?map.unknown:map.folder:map[n.split(".").pop().toLowerCase()]}function getApplicationPath(n){return applicationPath!=null?applicationPath.slice(-1)=="/"?applicationPath+n:applicationPath+"/"+n:n}function getElementByClass(n,t){var i=n.find(t);return i.hasClass(t.slice(1))?i:getElementByClass(n.parent(),t)}function toggleModalDialog(n,t,i){n?($("#modalDialog .gd-modal-title").text(t),$("#modalDialog").css("opacity",0).fadeIn("fast").animate({opacity:1},{queue:!1,duration:"fast"}),$("#modalDialog").addClass("in"),$(".gd-modal-body").append(i)):($("#modalDialog").removeClass("in"),$("#modalDialog").css("opacity",1).fadeIn("fast").animate({opacity:0},{queue:!1,duration:"fast"}).css("display","none"),$(".gd-modal-body").html(""))}function toggleNavDropdown(n){var t=n.hasClass("opened");t?($(n).removeClass("opened"),$(n).css("opacity",1).slideUp("fast").animate({opacity:0},{queue:!1,duration:"fast"})):($(n).addClass("opened"),$(n).css("opacity",0).slideDown("fast").animate({opacity:1},{queue:!1,duration:"fast"}))}function highlightSearch(n){var i,t;clearHighlightSearch();n.length>1&&(i=$("#gd-pages .gd-wrapper div").find("*").contents().filter(function(){return this.nodeType===3}),i.each(function(){var r=$(this),t=r.text(),u=new RegExp(n,"ig"),i=t.search(u),f="did not worked!";i>=0&&(f=t.substring(i,i+n.length));t=t.replace(u,'<span class="gd-highlight">'+f+"<\/span>");r.replaceWith(t)}),t=getTotalSearchMatches(),setSearchMatchCount(0,t),t>0&&$("#gd-nav-search-next").click())}function clearSearch(){$("#gd-nav-search-container :input").val("");setSearchMatchCount(0,0);clearHighlightSearch()}function setZoomValue(n){var t=n/100,i=Math.round(n)+"%";setNavigationZoomValues(i);navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(n>100?$(".gd-page").each(function(n,t){t.id.startsWith("gd-thumbnails")||$(t).hasClass("gd-page-zoomed")||$(t).addClass("gd-page-zoomed")}):$(".gd-page").each(function(n,t){$(t).removeClass("gd-page-zoomed")}));var r=["zoom: "+i,"zoom: "+t,"-moz-transform: scale("+t+", "+t+")","-moz-transform-origin: top;","-webkit-transform: ("+t+", "+t+")","-ms-transform: ("+t+", "+t+")","-o-transform: ("+t+", "+t+")"].join(";"),u=window.navigator.userAgent,f=/MSIE|Trident/.test(u);f?$.each($("#gd-panzoom").find(".gd-page"),function(n,t){$(t).attr("style",r)}):$("#gd-panzoom").attr("style",r)}function getZoomValue(){return parseInt($("#gd-zoom-value").text().slice(0,-1))}function getTotalSearchMatches(){return $(".gd-highlight").length}function setSearchMatchCount(n,t){$("#gd-search-count").text(n+" of "+t)}function setNavigationZoomValues(n){$("#gd-zoom-value").text(n)}function setNavigationPageValues(n,t){$("#gd-page-num").text(n+"/"+t)}function clearHighlightSearch(){$("#gd-pages .gd-highlight").contents().unwrap();$("#gd-pages").each(function(n,t){t.normalize()});search_position=0}function clearPageContents(){setZoomValue(100);setNavigationPageValues("0","0");$("#gd-panzoom").html("");$("#gd-thumbnails-panzoom").html("");$("#gd-pages").scrollTo(0,{duration:0})}function printMessage(n){$("#alert > p")[0].innerText=n;$("#alert").show()}function scrollToPage(n,t,i){var r=$("#gd-panzoom").css("zoom"),u;r=typeof r=="undefined"?100:parseFloat(r)!=1?$("#gd-page-1").css("zoom")*100*parseFloat(r):$("#gd-page-1").css("zoom")*100;scrollOff=!0;u={zoom:r};t&&(u.duration=0);$("#gd-pages").scrollTo("#gd-page-"+n,u,function(){scrollOff=!1;typeof i=="function"&&i(u)})}function rotatePages(n){var u=$("#gd-page-num").text().split("/"),t=parseInt(u[0]),i=[],r;i[0]=t;saveRotateState?(r={guid:documentGuid,angle:n,pages:i,password:password},$.ajax({type:"POST",url:getApplicationPath("rotateDocumentPages"),data:JSON.stringify(r),contentType:"application/json",success:function(n){if(n.message!=undefined){printMessage(n.message);return}$.each(n,function(n,i){rotatePage(i.pageNumber,i.angle);i.angle==90||i.angle==270?htmlMode?$("#gd-page-"+i.pageNumber).width()>$("#gd-page-"+i.pageNumber).height()?($("#gd-page-"+i.pageNumber).addClass("gd-landscape-rotated"),$("#gd-thumbnails-page-"+i.pageNumber).addClass("gd-thumbnails-landscape-rotated")):($("#gd-page-"+i.pageNumber).addClass("gd-landscape"),$("#gd-thumbnails-page-"+i.pageNumber).addClass("gd-thumbnails-landscape")):($("#gd-page-"+i.pageNumber).width()>$("#gd-page-"+i.pageNumber).height()?($("#gd-page-"+i.pageNumber).addClass("gd-landscape-image-rotated"),$("#gd-thumbnails-page-"+i.pageNumber).addClass("gd-thumbnails-landscape-image-rotated")):($("#gd-page-"+i.pageNumber).addClass("gd-landscape-image"),$("#gd-thumbnails-page-"+i.pageNumber).addClass("gd-thumbnails-landscape-image")),$("#gd-thumbnails-page-"+i.pageNumber).find("img").removeClass("gd-page-image")):($("#gd-page-"+i.pageNumber).removeClass("gd-landscape"),$("#gd-thumbnails-page-"+i.pageNumber).removeClass("gd-thumbnails-landscape"),$("#gd-page-"+i.pageNumber).removeClass("gd-landscape-image"),$("#gd-thumbnails-page-"+i.pageNumber).removeClass("gd-thumbnails-landscape-image"));rotateThumbnail(t,i.angle)})},error:function(n){var t=eval("("+n.responseText+")");console.log(t.Message);printMessage(t.message)}})):(documentData.pages[t-1].angle=parseInt(documentData.pages[t-1].angle)+parseInt(n),documentData.pages[t-1].angle>360?documentData.pages[t-1].angle=90:documentData.pages[t-1].angle<-360&&(documentData.pages[t-1].angle=-90),rotatePage(t,documentData.pages[t-1].angle),rotateThumbnail(t,documentData.pages[t-1].angle))}function rotatePage(n,t){$("#gd-page-"+n).css("animation","none");$("#gd-page-"+n).css("transition-property","none");$("#gd-page-"+n).css("transform","rotate("+t+"deg)")}function rotateThumbnail(n,t){$("#gd-thumbnails-page-"+n).css("animation","none");$("#gd-thumbnails-page-"+n).css("transition-property","none");$("#gd-thumbnails-page-"+n).css("transform","rotate("+t+"deg)")}function downloadDocument(){documentGuid!=""&&typeof documentGuid!="undefined"?window.location.assign(getApplicationPath("downloadDocument/?path=")+documentGuid):printMessage("Please open document first")}function uploadDocument(n,t){var i=new FormData;i.append("file",n);typeof t!="undefined"&&t!=null&&i.append("url",t);i.append("rewrite",rewrite);$.ajax({xhr:function(){var n=new window.XMLHttpRequest;return n.upload.addEventListener("progress",function(n){if(n.lengthComputable&&($(".gd-modal-close-action").off("click"),$("#gd-open-document").prop("disabled",!0),n.loaded==n.total)){$(".gd-modal-close-action").on("click",closeModal);$("#gd-open-document").prop("disabled",!1);$(".gd-checkbox").length>0?loadFileTree("",!0):loadFileTree("")}},!1),n},type:"POST",url:getApplicationPath("uploadDocument"),data:i,cache:!1,contentType:!1,processData:!1,success:function(n){if(n.message!=undefined){printMessage(n.message);return}},error:function(n){var t=eval("("+n.responseText+")");console.log(t.Message);printMessage(t.message)}})}function printDocument(n){(n.stopImmediatePropagation(),$(this).find("li").length>0)||(loadPrint(),gaEvent("Print"))}function closeModal(){$("#gd-upload-input").val("");toggleModalDialog(!1,"")}function openBrowseModal(){loadFileTree("")}function openPasswordModal(n){toggleModalDialog(!0,"Password required",'<section id="gd-password-section" class="tab-slider-body"><div class="inner-addon left-addon btn gd-password-wrap" id="gd-password-wrap"><input type="password" class="form-control" id="gd-password-input" placeholder="Enter password"><button class="btn btn-primary" id="gd-password-submit">Submit<\/button><span class="gd-password-error" style="display: none;"><\/span><\/div><\/section>');n!=""&&typeof n!="undefined"?($(".gd-password-error")[0].innerHTML=n,$(".gd-password-error").show()):$(".gd-password-error").hide()}function clearPassword(){if(password!=""&&typeof password!="undefined"){var n=$("#gd-panzoom > div").length,t=[];n>0&&($("#gd-panzoom > div").each(function(n,i){$(i).has(".gd-wrapper").length&&t.push(!0)}),t.length==n&&(password=""))}}function isPageLoaded(n){return new Promise(function(t,i){var r=function(n,u){var u=0,f=n.find(".gd-wrapper");f.length>0?t(f):setTimeout(function(){typeof u!="undefined"&&u!=null&&(u++,u<120?r(n,u):i())},1e3)};r(n)})}function setZoomLevel(n){var t=n||$(this).text(),i=!1,f;switch(t){case"Fit Width":var r=$("#gd-pages .gd-page").width()+30,u=$("#gd-pages").width(),e=r/u*100;t=u/r*100;break;case"Fit Height":i=!0;var o=$("#gd-pages .gd-page").height()+30,s=$("#gd-pages").height(),e=s/o*100;t=e;break;default:t=t.slice(0,-1)}setZoomValue(t);i&&(f=$("#gd-page-num").text().split("/"),window.location.href="#gd-page-"+f[0]);gaEvent("Zoom Value")}function zoomIn(n){n.stopImmediatePropagation();var t=getZoomValue();t<490&&(t=t+10);setZoomValue(t);gaEvent("Zoom In")}function zoomOut(n){n.stopImmediatePropagation();var t=getZoomValue();t>30&&(t=t-10);setZoomValue(t);gaEvent("Zoom Out")}function panelSwitchToThumbnails(){$("#gd-thumbnails-tab-1").addClass("active");$("#gd-thumbnails-tab-2").removeClass("active");$("#gd-thumbnails-panzoom").removeClass("hidden");$("#gd-thumbnails-headers").addClass("hidden")}function panelSwitchToHeaders(){$("#gd-thumbnails-tab-1").removeClass("active");$("#gd-thumbnails-tab-2").addClass("active");$("#gd-thumbnails-panzoom").addClass("hidden");$("#gd-thumbnails-headers").removeClass("hidden")}function getHtmlFileBrowser(n){var r="",t="single",i;return n&&(r='<input type="checkbox" class="gd-select-all gd-checkbox"><div class="gd-add-selected"><i class="fa fa-plus"><\/i><label>Add selected<\/label><\/div>',t=""),i="",upload&&(i='<label class="gd-upload-dropdown"><div class="gd-button"><i class="fa fa-upload"><\/i><label>Upload file<\/label><i class="fas fa-chevron-down"><\/i><\/div><input type="checkbox" class="gd-upload-input" id="gd-upload-input-checkbox"><ul class="gd-upload-menu"><li>Upload from:<\/li><li><label><i class="fas fa-hdd"><\/i> Disc <input id="gd-upload-input" type="file" multiple style="display: none;" ><\/label><\/li><li id="gd-upload-url"><i class="fas fa-link"><\/i> URL<\/li><\/ul><\/label><div class="inner-addon left-addon btn gd-url-wrap" id="gd-url-wrap" style=""><input type="url" class="form-control" id="gd-url" placeholder="http://"><button class="btn" id="gd-add-url"><i class="fas fa-check"><\/i><\/button><\/div><i class="fas fa-hdd gd-hdd"><\/i><i class="fab fa-aws gd-aws"><\/i>'),i='<div id="gd-upload-actions" class="gd-action-buttons '+t+'">'+r+i+"<\/div>",i+'<section id="gd-browse-section" class="tab-slider-body"><div id="gd-modal-spinner"><i class="fa fa-circle-o-notch fa-spin"><\/i> &nbsp;Loading... Please wait.<\/div><div id="gd-modal-filebroswer" class="gd-modal-table"><div class="gd-modal-table-head '+t+'"><label>Document<\/label><label class="'+t+'">Size<\/label><\/div><div class="gd-modal-table-body"><div class="text-center gd-go-up '+t+'"><i class="fa fa-level-up"><\/i><\/div><div class="gd-filetree-up gd-go-up '+t+'">...<\/div><\/div><\/div><\/section><div class="gd-drag-n-drop-wrap" id="gd-dropZone"><i class="fa fa-cloud-download fa-5x" aria-hidden="true"><\/i><h2>Drag &amp; Drop your files here<\/h2><\/div>'}function initDragNDrop(n){var t=$("#gd-dropZone");if(typeof t[0]!="undefined"){$("#gd-dropZone").length&&typeof FileReader=="undefined"&&(t.text("Your browser doesn't support Drag and Drop"),t.addClass("error"));$(".gd-modal-body").on("dragover",function(){return t.show(),!1});t[0].ondragleave=function(){return t.hide(),!1};t[0].ondrop=function(i){i.preventDefault();var r=i.dataTransfer.files;$.each(r,function(t,i){n(i)});t.hide()}}}var applicationPath,preloadPageCount,currentDirectory,documentGuid,folderName,documentData={},password="",rewrite,loadedPagesCount=0,map={},htmlMode=!1,htmlModeThumbnails=!1,thumbnails=!1,saveRotateState=!0,enableRightClick=!0,upload=!0,printAllowed=!0,totalPageNumber=0,downloadingPages=[],scrollOff=!1,navigationPane=null,isMobile,gaEvent;map.folder={format:"",icon:"fa-folder"};map.pdf={format:"Portable Document Format",icon:"fa-file-pdf-o"};map.doc={format:"Microsoft Word",icon:"fa-file-word-o"};map.docx={format:"Microsoft Word",icon:"fa-file-word-o"};map.docm={format:"Microsoft Word",icon:"fa-file-word-o"};map.dot={format:"Microsoft Word",icon:"fa-file-word-o"};map.dotx={format:"Microsoft Word",icon:"fa-file-word-o"};map.dotm={format:"Microsoft Word",icon:"fa-file-word-o"};map.xls={format:"Microsoft Excel",icon:"fa-file-excel-o"};map.xltx={format:"Microsoft Excel",icon:"fa-file-excel-o"};map.xltm={format:"Microsoft Excel",icon:"fa-file-excel-o"};map.tsv={format:"Microsoft Excel",icon:"fa-file-excel-o"};map.xls2003={format:"Microsoft Excel",icon:"fa-file-excel-o"};map.xlsx={format:"Microsoft Excel",icon:"fa-file-excel-o"};map.xlsm={format:"Microsoft Excel",icon:"fa-file-excel-o"};map.xlsb={format:"Microsoft Excel",icon:"fa-file-excel-o"};map.ppt={format:"Microsoft PowerPoint",icon:"fa-file-powerpoint-o"};map.pptx={format:"Microsoft PowerPoint",icon:"fa-file-powerpoint-o"};map.potx={format:"Microsoft PowerPoint",icon:"fa-file-powerpoint-o"};map.potm={format:"Microsoft PowerPoint",icon:"fa-file-powerpoint-o"};map.pptm={format:"Microsoft PowerPoint",icon:"fa-file-powerpoint-o"};map.ppsm={format:"Microsoft PowerPoint",icon:"fa-file-powerpoint-o"};map.pps={format:"Microsoft PowerPoint",icon:"fa-file-powerpoint-o"};map.ppsx={format:"Microsoft PowerPoint",icon:"fa-file-powerpoint-o"};map.vsd={format:"Microsoft Visio",icon:"fa-file-code-o"};map.vdx={format:"Microsoft Visio",icon:"fa-file-code-o"};map.vss={format:"Microsoft Visio",icon:"fa-file-code-o"};map.vsx={format:"Microsoft Visio",icon:"fa-file-code-o"};map.vst={format:"Microsoft Visio",icon:"fa-file-code-o"};map.vtx={format:"Microsoft Visio",icon:"fa-file-code-o"};map.vsdx={format:"Microsoft Visio",icon:"fa-file-code-o"};map.vdw={format:"Microsoft Visio",icon:"fa-file-code-o"};map.vstx={format:"Microsoft Visio",icon:"fa-file-code-o"};map.vssx={format:"Microsoft Visio",icon:"fa-file-code-o"};map.mpp={format:"Microsoft Project",icon:"fa-file-text"};map.mpt={format:"Microsoft Project",icon:"fa-file-text"};map.msg={format:"Microsoft Outlook",icon:"fa-file-text-o"};map.eml={format:"Microsoft Outlook",icon:"fa-file-text-o"};map.emlx={format:"Microsoft Outlook",icon:"fa-file-text-o"};map.one={format:"Microsoft OneNote",icon:"fa-file-word-o"};map.odt={format:"Open Document Text",icon:"fa-file-word-o"};map.ott={format:"Open Document Text Template",icon:"fa-file-word-o"};map.ods={format:"Open Document Spreadsheet",icon:"fa-file-excel-o"};map.odp={format:"Open Document Presentation",icon:"fa-file-powerpoint-o"};map.otp={format:"Open Document Presentation",icon:"fa-file-powerpoint-o"};map.ots={format:"Open Document Presentation",icon:"fa-file-powerpoint-o"};map.rtf={format:"Rich Text Format",icon:"fa-file-text-o"};map.txt={format:"Plain Text File",icon:"fa-file-text-o"};map.csv={format:"Comma-Separated Values",icon:"fa-file-excel-o"};map.html={format:"HyperText Markup Language",icon:"fa-file-word-o"};map.mht={format:"HyperText Markup Language",icon:"fa-file-word-o"};map.mhtml={format:"HyperText Markup Language",icon:"fa-file-word-o"};map.xml={format:"Extensible Markup Language",icon:"fa-file-word-o"};map.xps={format:"XML Paper Specification",icon:"fa-file-word-o"};map.dxf={format:"AutoCAD Drawing File Format",icon:"fa-file-image-o"};map.dwg={format:"AutoCAD Drawing File Format",icon:"fa-file-image-o"};map.bmp={format:"Bitmap Picture",icon:"fa-file-image-o"};map.gif={format:"Graphics Interchange Format",icon:"fa-file-image-o"};map.jpg={format:"Joint Photographic Experts Group",icon:"fa-file-image-o"};map.psd={format:"Layered Image File",icon:"fa-file-image-o"};map.svg={format:"Scalable Vector Graphics",icon:"fa-file-image-o"};map.jpe={format:"Joint Photographic Experts Group",icon:"fa-file-image-o"};map.jp2={format:"Compressed Bitmap Image",icon:"fa-file-image-o"};map.jpeg={format:"Joint Photographic Experts Group",icon:"fa-file-image-o"};map.jfif={format:"Joint Photographic Experts Group",icon:"fa-file-image-o"};map.png={format:"Portable Network Graphics",icon:"fa-file-image-o"};map.tiff={format:"Tagged Image File Format",icon:"fa-file-photo-o"};map.tif={format:"Tagged Image File Format",icon:"fa-file-photo-o"};map.epub={format:"Electronic Publication",icon:"fa-file-pdf-o"};map.ico={format:"Windows Icon",icon:"fa-file-image-o"};map.webp={format:"Compressed Image",icon:"fa-file-image-o"};map.mobi={format:"Mobipocket eBook",icon:"fa-file-pdf-o"};map.tex={format:"LaTeX Source Document",icon:"fa-file-pdf-o"};map.djvu={format:"Multi-Layer Raster Image",icon:"fa-file-text"};map.unknown={format:"This format is not supported",icon:"fa-file-o"};$(document).ready(function(){var r;enableRightClick||$(document).bind("contextmenu",function(n){n.preventDefault()});$(".gd-nav-toggle").on("click",function(){$(this).hasClass("open")?$(this).removeClass("open"):$(this).addClass("open");var n=getElementByClass($(this),".gd-nav-dropdown");toggleNavDropdown(n);$("#gd-search-input").focus()});$("#gd-nav-search-container").on("click",function(n){n.stopPropagation()});$(".gd-modal-close-action").on("click",closeModal);$(".gd-modal-body").on("click",".gd-filetree-name",function(){var n=$(this).parent().find(".fa-folder").hasClass("fa-folder");n?(currentDirectory=currentDirectory.length>0?currentDirectory+"/"+$(this).text():$(this).text(),toggleModalDialog(!1,""),loadFileTree(currentDirectory)):($("#gd-btn-zoom-value").hasClass("disabled")?"":$("#gd-btn-zoom-value").addClass("disabled"),$("#gd-btn-zoom-value > li").unbind("click"),$("#gd-btn-zoom-in").hasClass("disabled")?"":$("#gd-btn-zoom-in").addClass("disabled"),$("#gd-btn-zoom-in").unbind("click"),$("#gd-btn-zoom-out").hasClass("disabled")?"":$("#gd-btn-zoom-out").addClass("disabled"),$("#gd-btn-zoom-out").unbind("click"),$("#gd-btn-print").hasClass("disabled")?"":$("#gd-btn-print").addClass("disabled"),$("#gd-btn-print").unbind("click"),$("#gd-btn-download").hasClass("disabled")?"":$("#gd-btn-download").addClass("disabled"),clearPageContents(),toggleModalDialog(!1,""),password="",documentGuid=$(this).attr("data-guid"),loadDocument(function(n){generatePagesTemplate(n)}))});$(".gd-modal-body").on("click",".gd-go-up",function(){currentDirectory=currentDirectory.length>0&&currentDirectory.indexOf("/")==-1?"":currentDirectory.replace(/\/[^\/]+\/?$/,"");loadFileTree(currentDirectory)});$(".gd-nav-btn-pages").on("click",function(){var u=$("#gd-page-num").text().split("/"),n=parseInt(u[0]),t=parseInt(u[1]),r,i;if(t!==1){r=!1;switch($(this).attr("id")){case"gd-btn-page-first":n=1;gaEvent("To First Page");break;case"gd-btn-page-prev":n>1&&(n=n-1,r=!0,gaEvent("To Previous Page"));break;case"gd-btn-page-next":n<t&&(n=n+1,gaEvent("To Next Page"));break;case"gd-btn-page-last":n=t;gaEvent("To Last Page")}n>0&&n<=t&&(i=function(){scrollToPage(n)},setNavigationPageValues(n,t),preloadPageCount>0&&(n+1<=t?r?appendHtmlContent(n,documentGuid,i):appendHtmlContent(n+1,documentGuid,i):(appendHtmlContent(n,documentGuid,i),appendHtmlContent(n-1,documentGuid))))}});r=0;$("#gd-pages").scroll(function(){var e,t;if(!scrollOff&&!(downloadingPages.length>0)){var o=$("#gd-page-num").text().split("/"),u=parseInt(o[0]),n=parseInt(o[1]),f=!0,s=$(this).scrollTop();for(s<r&&(f=!1),r=s,e=parseInt($("#gd-zoom-value").html())/100,t=.5,t=e<1?1:t/e,i=1;i<=n;i++)$("#gd-page-"+i).isOnScreen(t,t)&&(i!=u&&setNavigationPageValues(i,n),preloadPageCount>0&&(f?i+1<=n?appendHtmlContent(i+1,documentGuid):i==n&&appendHtmlContent(i,documentGuid):u-1>=1&&appendHtmlContent(u-1,documentGuid)));$(this).scrollTop()!=0||f||setNavigationPageValues(1,n)}});$("#gd-nav-search-cancel").on("click",function(){clearSearch();$(this).parent().parent().click();gaEvent("Search Clear")});var n=0,t=null,u=function(t){n=0;highlightSearch(t);gaEvent("Search Input")},f=function(){const n=$(this).val();if(n.toString().length>0&&!n.match(/^\s+$/)){const t={fileName:documentGuid,folderName,searchQuery:n};showPreloader();$.ajax({type:"POST",url:getApplicationPath("search"),data:JSON.stringify(t),contentType:"application/json",success:t=>{const r=[];for(var i=0;i<t.length;i++)downloadingPages.indexOf(t[i])===-1&&r.push(new Promise(n=>{appendHtmlContent(t[i],documentGuid,()=>{n()})}));r.length>0?Promise.all(r).then(()=>{hidePreloader(1500),u(n)}):u(n)},error:n=>{hidePreloader();var t=eval("("+n.responseText+")");console.log(t.Message);printMessage(t.message)}})}};$("#gd-search-input").on("keydown",function(){t!==null&&(window.clearTimeout(t),t=null)});$("#gd-search-input").on("keyup",function(){t=window.setTimeout(f.bind(this),1e3)});$("#gd-nav-search-next").on("click",function(){var t=0,i=getZoomValue();$("#gd-pages").find(".gd-highlight-select").removeClass("gd-highlight-select");$(".gd-highlight").each(function(){if(t==n)return $(this).addClass("gd-highlight-select"),$("#gd-pages").scrollTo(this,{offsetTop:150,zoom:i}),n>=getTotalSearchMatches()||n++,!1;t++});setSearchMatchCount(n,getTotalSearchMatches());gaEvent("Search Next")});$("#gd-nav-search-prev").on("click",function(){var i=1,t,r=getZoomValue();$("#gd-pages").find(".gd-highlight-select").removeClass("gd-highlight-select");$(".gd-highlight").each(function(){if(i==n&&t!=undefined)return $(t).addClass("gd-highlight-select"),$("#gd-pages").scrollTo(t,{offsetTop:150,zoom:r}),n<=1||n--,!1;i++;t=$(this)});setSearchMatchCount(n,getTotalSearchMatches());gaEvent("Search Prev")});$("#gd-nav-right").on("click",function(){$("#gd-thumbnails").toggleClass("active");gaEvent("Thumbnails Open")});$("#gd-thumbnails-panzoom").on("click",".gd-page",function(){var n=parseInt($(this).attr("id").split("-")[3]),i=$("#gd-page-num").text().split("/"),t=parseInt(i[1]);preloadPageCount>0&&(n==t?(appendHtmlContent(n,documentGuid),appendHtmlContent(n,documentGuid)):(appendHtmlContent(n,documentGuid),appendHtmlContent(n+1,documentGuid)));setNavigationPageValues(n,t);scrollToPage(n);gaEvent("Thumbnails Click")});$("#gd-btn-counterclockwise").on("click",function(){rotatePages("-90");gaEvent("Rotate CCW")});$("#gd-btn-clockwise").on("click",function(){rotatePages("90");gaEvent("Rotate CW")});$("#gd-btn-download").on("click",function(){downloadDocument();gaEvent("Download")});$(".gd-modal-body").on("change","#gd-upload-input",function(){$("#gd-upload-input-checkbox").prop("checked",!1);var n=$(this);$.each(n.get(0).files,function(n,t){uploadDocument(t)})});$(".gd-modal-body").on("click",".gd-hdd",function(){$("#gd-upload-input").click()});$(".gd-modal-body").on("click","#gd-upload-url",function(){$("#gd-url-wrap").show()});$(".gd-modal-body").on("click","#gd-add-url",function(){$("#gd-url-wrap").hide();uploadDocument(null,$("#gd-url").val());$("#gd-url").val("")});$(".gd-modal-body").on("click","#gd-open-document",function(){toggleModalDialog(!1,"");loadFileTree("")});$("#gd-btn-search").on("click",function(){$("#gd-nav-search-container").parent().find("span").is(":visible")?$("#gd-nav-search-container").parent().find("span").css("display","none"):$("#gd-nav-search-container").parent().find("span").css("display","initial");gaEvent("Search Open")});$(".gd-modal-body").on("click","#gd-password-submit",function(){password=$("#gd-password-input").val();$("#gd-password-input").val("");toggleModalDialog(!1,"");loadDocument(function(n){generatePagesTemplate(n)})});$(".gd-modal-body").on("click","#gd-modal-content",function(){var n,t;if(isMobile()&&$("#gd-upload-files-table > div").length>0)for(n=new Swiper(".swiper-container"),typeof n.length=="undefined"&&(n.slideNext(),n.slidePrev()),t=0;t<n.length;t++)n[t].slideNext(),n[t].slidePrev()});$("#modalDialog").on("click",function(n){if($(n.target).hasClass("fas fa-chevron-down")){n.preventDefault();$("#gd-upload-input-checkbox").prop("checked",!0);return}n.target.tagName!="LABEL"&&n.target.tagName!="LI"&&n.target.tagName!="INPUT"&&$("#gd-upload-input-checkbox").prop("checked",!1)})}),function(n){function u(){return'<div id="gd-container"><div class="wrapper"><div id="gd-header"><ul id="'+t.slice(1)+'"><\/ul><\/div><div id="gd-thumbnails"><div class="gd-thumbnails-toggler" onclick="toggleThumbnails()" title="Toggle sidebar"><\/div><h3>Navigation<\/h3><ul class="tabs"><li id="gd-thumbnails-tab-2" class="active" onclick="panelSwitchToHeaders()"><a href="javascript:void(0)">Headers<\/a><\/li><li id="gd-thumbnails-tab-1" onclick="panelSwitchToThumbnails()"><a href="javascript:void(0)">Thumbnails<\/a><\/li><\/ul><div id="gd-thumbnails-headers"><\/div><div id="gd-thumbnails-panzoom" class="hidden"><\/div><\/div><div id="gd-pages"><div id="gd-panzoom"><\/div><\/div><\/div><\/div><div id="gd-container-fade" class="gd-container-fade"><\/div><div id="preloader" class="hidden"><div class="spinner"><\/div><\/div>'}function f(){return'<div class="gd-modal fade" id="modalDialog"><div class="gd-modal-dialog"><div class="gd-modal-content" id="gd-modal-content"><div class="gd-modal-header"><div class="gd-modal-close gd-modal-close-action"><span>&times;<\/span><\/div><h4 class="gd-modal-title"><\/h4><\/div><div class="gd-modal-body"><\/div><div class="gd-modal-footer"><\/div><\/div><!-- /.modal-content --><\/div><!-- /.modal-dialog --><\/div>'}function i(){return'<li class="gd-nav-separator" role="separator"><\/li>'}function e(){return'<li class="gd-nav-toggle" id="gd-zoom-val-container"><span id="gd-zoom-value">100%<\/span><span class="gd-nav-caret"><\/span><ul class="gd-nav-dropdown-menu gd-nav-dropdown disabled" id="gd-btn-zoom-value"><li>25%<\/li><li>50%<\/li><li>100%<\/li><li>150%<\/li><li>200%<\/li><li>300%<\/li><li role="separator" class="gd-nav-dropdown-menu-separator"><\/li><li>Fit Width<\/li><li>Fit Height<\/li><\/ul><\/li><li id="gd-btn-zoom-in" class="disabled"><i class="fa fa-search-plus"><\/i><span class="gd-tooltip">Zoom In<\/span><\/li><li id="gd-btn-zoom-out" class="disabled"><i class="fa fa-search-minus"><\/i><span class="gd-tooltip">Zoom Out<\/span><\/li>'}function o(){return'<li id="gd-btn-page-first" class="gd-nav-btn-pages"><i class="fa fa-angle-double-left"><\/i><span class="gd-tooltip">First Page<\/span><\/li><li id="gd-btn-page-prev" class="gd-nav-btn-pages"><i class="fa fa-angle-left"><\/i><span class="gd-tooltip">Previous Page<\/span><\/li><li id="gd-page-num">0/0<\/li><li id="gd-btn-page-next" class="gd-nav-btn-pages"><i class="fa fa-angle-right"><\/i><span class="gd-tooltip">Next Page<\/span><\/li><li id="gd-btn-page-last" class="gd-nav-btn-pages"><i class="fa fa-angle-double-right"><\/i><span class="gd-tooltip">Last Page<\/span><\/li>'}function s(){return'<li id="gd-btn-search" class="gd-nav-toggle"><i class="fa fa-search"><\/i><span class="gd-tooltip">Search<\/span><div id="gd-nav-search-container" class="gd-nav-dropdown"><input type="text" id="gd-search-input"/><div id="gd-search-count">0 of 0<\/div><div class="gd-nav-search-btn" id="gd-nav-search-prev"><i class="fa fa-chevron-left"><\/i><\/div><div class="gd-nav-search-btn" id="gd-nav-search-next"><i class="fa fa-chevron-right"><\/i><\/div><div class="gd-nav-search-btn" id="gd-nav-search-cancel"><i class="fa fa-times"><\/i><\/div><\/div><\/li>'}function h(){return'<li id="gd-nav-right"><i class="fa fa-th-large"><\/i><span class="gd-tooltip">Navigation<\/span><\/li>'}function c(){return'<li id="gd-btn-counterclockwise"><i class="fa fa-rotate-left"><\/i><span class="gd-tooltip">Rotate CCW<\/span><\/li><li id="gd-btn-clockwise"><i class="fa fa-rotate-right"><\/i><span class="gd-tooltip">Rotate CW<\/span><\/li>'}function l(){return'<li id="gd-btn-download" class="disabled"><i class="fa fa-download"><\/i><span class="gd-tooltip">Download<\/span><\/li>'}function a(){return'<li id="gd-btn-print" class="disabled"><i class="fa fa-print"><\/i><span class="gd-tooltip">Print<\/span><\/li>'}function v(){return'<li id="gd-btn-browse"><i class="fa fa-folder-open"><\/i><span class="gd-tooltip">Browse files<\/span><\/li>'}var t="#gd-navbar",r={init:function(r){if(r=n.extend({applicationPath:null,preloadPageCount:1,zoom:!0,pageSelector:!0,search:!1,thumbnails:!0,rotate:!0,download:!0,upload:!0,print:!0,defaultDocument:null,browse:!0,rewrite:!0,htmlMode:!0,saveRotateState:!0,enableRightClick:!0},r),applicationPath=r.applicationPath,preloadPageCount=r.preloadPageCount,rewrite=r.rewrite,htmlMode=r.htmlMode,thumbnails=r.thumbnails,saveRotateState=r.saveRotateState,enableRightClick=r.enableRightClick,upload=r.upload,this.append(u),this.append(f),r.browse){n(t).append(v);n("#gd-btn-browse").on("click",openBrowseModal)}r.zoom&&(n(t).append(e),n(t).append(i));r.pageSelector&&(n(t).append(o),n(t).append(i));r.rotate&&(n(t).append(c),n(t).append(i));r.search&&(n(t).append(s),n(t).append(i));r.download&&(n(t).append(l),n(t).append(i));r.print&&(n(t).append(a),n(t).append(i));r.thumbnails&&n(t).append(h);r.defaultDocument&&(documentGuid=r.defaultDocument,loadDocument(function(n){generatePagesTemplate(n)}))}};n.fn.viewer=function(t){if(r[t])return r[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method"+t+" does not exist on jQuery.viewer");else return r.init.apply(this,arguments)}}(jQuery);$.fn.scrollTo=function(n,t,i){typeof t=="function"&&arguments.length==2&&(i=t,t=n);var r=$.extend({scrollTarget:n,offsetTop:100,duration:500,zoom:t.zoom,easing:"swing"},t);return this.each(function(){var t=$(this),n,u,f;isNaN(r.zoom)&&(r.zoom=100);n=typeof r.scrollTarget=="number"?r.scrollTarget:$(r.scrollTarget);typeof r.scrollTarget!="number"&&(u=n.offset().top*(r.zoom/100));f=typeof n=="number"?n:u+t.scrollTop()-parseInt(r.offsetTop);t.animate({scrollTop:f},parseInt(r.duration),r.easing,function(){typeof i=="function"&&i.call(this)})})};$.fn.isOnScreen=function(n,t){var f,i,u,e,o,r,h,s;return((n==null||typeof n=="undefined")&&(n=1),(t==null||typeof t=="undefined")&&(t=1),f=$(window),i={top:f.scrollTop(),left:f.scrollLeft()},i.right=i.left+f.width(),i.bottom=i.top+f.height(),u=parseInt($("#gd-zoom-value").html())/100,isNaN(u)&&(u=1),e=this.outerHeight()*u,o=this.outerWidth()*u,!o||!e)?!1:(r=this.offset(),r.right=r.left*u+o,r.bottom=r.top*u+e,h=!(i.right<r.left*u||i.left>r.right||i.bottom<r.top*u||i.top>r.bottom),!h)?!1:(s={top:Math.min(1,(r.bottom-i.top)/e),bottom:Math.min(1,(i.bottom-r.top*u)/e),left:Math.min(1,(r.right-i.left)/o),right:Math.min(1,(i.right-r.left*u)/o)},s.left*s.right>=n&&s.top*s.bottom>=t)};isMobile=function(){return navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||"ontouchstart"in window};gaEvent=function(n,t){var i,r;if(t||(t="Viewer Navbar"),i="ga"in window.parent?window.parent.ga:"ga"in window?window.ga:null,i!==null)try{r=i.getAll()[0];r!==undefined&&r.send("event",{eventCategory:t,eventAction:n})}catch(u){}};